/*
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    oDIAFlow Example User Configuration
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    Example configuration showing how to customize pipeline parameters for your data.
    
    Copy this file and modify for your specific analysis:
        cp conf/example_user.config my_analysis.config
        nextflow run main.nf -profile docker,local -c my_analysis.config
    
    Or provide parameters directly:
        nextflow run main.nf -profile docker,local \
            --dia_glob "data/*.mzML" \
            --dda_glob "dda/*.mzML" \
            --fasta "db/human.fasta"
----------------------------------------------------------------------------------------
*/

params {
    // =========================================================================
    // INPUT FILES
    // =========================================================================
    
    // DIA data files to analyze
    dia_glob        = "/path/to/dia/data/*.mzML"   // or *.d for Bruker
    
    // DDA data for library building (empirical workflow)
    dda_glob        = "/path/to/dda/data/*.mzML"   // or *.d for Bruker
    
    // Optional: Also search DIA files with Sage for hybrid library
    // dia_for_lib_glob = "/path/to/dia/data/*.d"
    
    // Protein database
    fasta           = "/path/to/database/uniprot_human.fasta"
    
    // Optional: External iRT library
    // irt_traml     = "/path/to/iRT/library.TraML"
    
    // Optional: SWATH window definitions
    // swath_windows = "/path/to/windows.txt"
    
    // =========================================================================
    // OUTPUT
    // =========================================================================
    outdir          = "results"
    
    // =========================================================================
    // WORKFLOW OPTIONS
    // =========================================================================
    
    // Use 'empirical' for DDA-based library or 'insilico' for predicted library
    workflow        = 'empirical'
    
    // Enable hybrid DDA+DIA library building
    sage {
        search_dia_for_lib = false  // Set true if you have dia_for_lib_glob
    }
    
    // =========================================================================
    // INSTRUMENT-SPECIFIC SETTINGS
    // =========================================================================
    
    // For diaPASEF data (Bruker timsTOF)
    osw {
        pasef               = false  // Set true for diaPASEF
        im_window           = 0.06   // Ion mobility window
        im_extraction_window_ms1 = 0.06
        irt_im_extraction_window = 0.1
    }
    
    // =========================================================================
    // MODIFICATIONS (customize for your experiment)
    // =========================================================================
    sage {
        // Fixed modifications (JSON format)
        static_mods     = '{"C": 57.0216}'      // Carbamidomethylation
        
        // Variable modifications (JSON format)
        // Common options:
        //   Oxidation: '{"M": [15.9949]}'
        //   Acetylation: '{"[": [42.0106]}'  // N-term
        //   Phospho: '{"S": [79.9663], "T": [79.9663], "Y": [79.9663]}'
        variable_mods   = '{"M": [15.9949]}'
        max_variable_mods = 2
    }
    
    // =========================================================================
    // QUALITY THRESHOLDS
    // =========================================================================
    pyprophet {
        pyprophet_export_tsv {
            max_rs_peakgroup_qvalue    = 0.05   // Run-specific FDR
            max_global_peptide_qvalue  = 0.01   // Global peptide FDR
            max_global_protein_qvalue  = 0.01   // Global protein FDR
        }
    }
}

// =====================================================================================
// PROCESS-SPECIFIC OVERRIDES (optional)
// =====================================================================================
// Uncomment and modify if you need to override resource settings for specific processes

// process {
//     withName: '.*OPENSWATHWORKFLOW' {
//         // Limit parallel OSW jobs (useful for memory-constrained systems)
//         maxForks = 2
//         
//         // Additional arguments
//         ext.args = '-sort_swath_maps -Calibration:RTNormalization:alignmentMethod lowess'
//     }
// }
